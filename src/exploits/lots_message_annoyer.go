package exploits

import (
	"net/http"
	"net/url"
	"strconv"
	"strings"
)

func Lots_message_annoyer(token string, channel_id int, message_number int, messages string) {

	println("-! running lots_message_annoyer...")

	//クソコード

	for i := 0; i < message_number; i++ {

		data := url.Values{"content": []string{messages}}

		req, _ := http.NewRequest("POST", "https://discord.com/api/v6/channels/"+strconv.Itoa(channel_id)+"/messages", strings.NewReader(data.Encode()))

		req.Header.Set("Authorization", token)
		client := new(http.Client)
		resp, err := client.Do(req)

		if err != nil {
			println("-! error occured")
		}

		println("job" + strconv.Itoa(i+1) + " done")

		defer resp.Body.Close()
	}

}
